{% extends "base.html" %}

{% block title %}Order Confirmed!{% endblock %}

{% block content %}
<div class="container-figma section-figma" style="background: var(--bg-primary); min-height: 100vh;">
    <div class="row justify-content-center">
        <div class="col-lg-7">
            <!-- Success Header -->
            <div class="text-center mb-lg">
                <div class="mb-md">
                    <i class="fas fa-check-circle" style="font-size: 64px; color: var(--accent-primary);"></i>
                </div>
                <h1 style="font-size: 32px; margin-bottom: var(--spacing-sm); color: #1a1a1a; font-weight: 700;">
                    Order Confirmed! ðŸŽ‰
                </h1>
                <p style="color: #333333; font-size: 16px; margin-bottom: var(--spacing-md);">
                    Your "Hunk of the Month" calendar is being created.
                </p>
                {% if order_id %}
                <div class="card-figma" style="padding: var(--spacing-sm); display: inline-block;">
                    <strong style="color: var(--text-primary); font-size: 14px;">Order #</strong>
                    <span style="color: var(--accent-primary); font-family: monospace;">{{ order_id }}</span>
                </div>
                {% endif %}
            </div>

            <!-- Delivery Worker Image -->
            <div class="mb-lg text-center">
                <img id="delivery-worker-image"
                     src="{{ url_for('api.get_delivery_image') }}"
                     alt="Your calendar is on the way!"
                     style="max-width: 100%; height: auto; border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); display: none;"
                     onload="this.style.display='block';"
                     onerror="this.style.display='none';">
            </div>

            <!-- What Happens Next -->
            <div class="mb-lg">
                <h5 style="color: #1a1a1a; margin-bottom: var(--spacing-md); text-align: center; font-weight: 700;">
                    What Happens Next
                </h5>

                <!-- Timeline Cards -->
                <div class="mb-md">
                    <!-- AI Generation -->
                    <div class="step-card mb-md">
                        <div class="step-icon" style="background: var(--accent-primary);">
                            <i class="fas fa-magic"></i>
                        </div>
                        <div class="step-content">
                            <h6 style="color: #1a1a1a; margin-bottom: 4px; font-weight: 700;">AI Generation</h6>
                            <p style="color: var(--text-secondary); font-size: 14px; margin: 0;">
                                Our AI is creating your unique calendar with all 12 months, perfect lighting and composition.
                            </p>
                            <small style="color: var(--text-muted); font-size: 12px;">~15 minutes</small>
                        </div>
                    </div>

                    <!-- Preview Email -->
                    <div class="step-card mb-md">
                        <div class="step-icon" style="background: var(--accent-success);">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="step-content">
                            <h6 style="color: #1a1a1a; margin-bottom: 4px; font-weight: 700;">Preview Email</h6>
                            <p style="color: var(--text-secondary); font-size: 14px; margin: 0;">
                                You'll receive a preview of all 12 months. Approve it or request changes (if needed).
                            </p>
                            <small style="color: var(--accent-success); font-size: 12px; font-weight: 600;">Today</small>
                        </div>
                    </div>

                    <!-- Printing & Shipping -->
                    <div class="step-card">
                        <div class="step-icon" style="background: var(--accent-purple);">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div class="step-content">
                            <h6 style="color: #1a1a1a; margin-bottom: 4px; font-weight: 700;">Printing & Shipping</h6>
                            <p style="color: var(--text-secondary); font-size: 14px; margin: 0;">
                                Once approved, your calendar will be professionally printed and shipped. Track shipping in real-time.
                            </p>
                            <small style="color: var(--text-muted); font-size: 12px;">2-3 days</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Order Summary -->
            {% if order_total %}
            <div class="card-figma-dark mb-lg">
                <h6 style="color: var(--text-primary); margin-bottom: var(--spacing-md);">Order Summary</h6>
                <div style="display: flex; justify-content: space-between; margin-bottom: var(--spacing-sm);">
                    <span style="color: var(--text-secondary);">Hunk of the Month Calendar</span>
                    <span style="color: var(--text-primary);">${{ order_price|default('19.99') }}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: var(--spacing-sm);">
                    <span style="color: var(--text-secondary);">Shipping</span>
                    <span style="color: var(--accent-success);">FREE</span>
                </div>
                <hr style="border-color: var(--border-color); margin: var(--spacing-md) 0;">
                <div style="display: flex; justify-content: space-between;">
                    <strong style="color: var(--text-primary);">Total</strong>
                    <strong style="color: var(--accent-primary); font-size: 18px;">${{ order_total|default('19.99') }}</strong>
                </div>
            </div>
            {% endif %}

            <!-- Estimated Delivery -->
            <div class="card-figma-purple mb-lg" style="text-align: center;">
                <i class="fas fa-calendar-check me-2"></i>
                <strong>Estimated Delivery:</strong> November 11, 2025
            </div>

            <!-- Questions -->
            <div class="card-figma-dark mb-lg" style="text-align: center;">
                <h6 style="color: var(--text-primary); margin-bottom: var(--spacing-sm);">Questions?</h6>
                <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: var(--spacing-sm);">
                    We're here to help! Reach out if you need anything.
                </p>
                <a href="mailto:support@hunkofthemonth.shop" class="btn-figma-secondary" style="text-decoration: none; display: inline-block;">
                    Contact Support
                </a>
            </div>

            <!-- Share the Love -->
            <div class="card-figma-dark" style="text-align: center;">
                <h6 style="color: var(--text-primary); margin-bottom: var(--spacing-sm);">Share the Love</h6>
                <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: var(--spacing-md);">
                    Know someone else who deserves their own hunky calendar? Get 20% off your next order when a friend makes their first purchase.
                </p>
                <a href="{{ url_for('main.index') }}" class="btn-figma-secondary" style="text-decoration: none; display: inline-block;">
                    Refer a Friend
                </a>
            </div>

            <!-- Reviews Footer -->
            <div class="text-center mt-lg" style="padding: var(--spacing-md) 0; border-top: 1px solid var(--border-color);">
                <p style="color: var(--text-muted); font-size: 12px; margin-bottom: 8px;">
                    Join 10,000+ people who've turned their favorites into calendars
                </p>
                <div style="color: var(--accent-warning); font-size: 18px; margin-bottom: 4px;">
                    â˜… â˜… â˜… â˜… â˜…
                </div>
                <small style="color: var(--text-muted); font-size: 12px;">
                    4.8/5 from 2,847 reviews
                </small>
            </div>
        </div>
    </div>
</div>
{% endblock %}
